# @package _global_

defaults:
  - _self_
  - sft: default.yaml
  - gen: default.yaml
  - score: default.yaml
  - dpo: default.yaml
  - override hydra/job_logging: colorlog
  - override hydra/hydra_logging: colorlog

model:
  lora:
    _target_: peft.LoraConfig
    task_type: CAUSAL_LM
    r: 8
    lora_alpha: 16
    lora_dropout: 0.05
    bias: none
    target_modules: ["q_proj", "v_proj", "k_proj", "out_proj", "fc_in", "fc_out", "wte"]

  bnb_config:
    _target_: transformers.BitsAndBytesConfig
    load_in_4bit: true
    bnb_4bit_quant_type: nf4
    bnb_4bit_use_double_quant: True
    bnb_4bit_compute_dtype: bfloat16

  max_seq_length: 1024
  num_generated_sequences: 4
  name: mistralai/Mistral-7B-Instruct-v0.1

dataset:
  name: bio-datasets/mimic_style_transfer
  sft_ratio: 0.99
  gen_ratio: 0.7

seed: 666
max_steps: 0
